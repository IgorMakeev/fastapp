pipeline {
    agent any

    environment {
        ENV        = 'staging'
        REGION     = 'eu-north-1'
        REPOSITORY = '903549323823.dkr.ecr.eu-north-1.amazonaws.com/jenkins-builds'
        APP_NAME   = 'fast-api'
    }
    stages {
        stage('Build') {
            steps {
                sh './deployment/scripts/build.sh'
            }
        }
        stage('Push') {
            steps {
                sh './deployment/scripts/push.sh'
            }
        }
    }
}
